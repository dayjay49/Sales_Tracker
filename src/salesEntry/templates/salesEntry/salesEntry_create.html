{% extends 'base.html' %} {% load static %} {% block content %}

<form class="form-horizontal" method="POST" action="">
  {% csrf_token %}
  <h3>Please choose staff and the sales he/she has made</h3>
  <div>
    {{salesEntryForm.as_p}}
  </div>
  {{ formset.management_form }}
  <div class="form-set">
    {% for form in formset %} {{form.non_field_errors}} {{form.errors}}
    <div class="dynamic-form">
      {{ form.as_table }}
    </div>
    {% endfor %}
  </div>
  <br />
  <div class="row spacer">
    <div class="col-4 offset-2">
      <button type="submit" class="submit-sales-entry">
        Save Entry
      </button>
    </div>
  </div>
</form>

<br />
<div>
  The total price of orders in current entry:
  <input class="entry-total-price" value="" disabled />
</div>

<script
  src="{% static 'js/jquery.formset.js' %}"
  type="text/javascript"
></script>

<script type="text/javascript">
  $(function () {
    $(".dynamic-form").formset({
      prefix: "{{ formset.prefix }}",
    });
  });
</script>

<script>
  $();
  $("#yourdropdownid option:selected").text();
  var numItems = $(".yourclass").length;
</script>

{% endblock %}
